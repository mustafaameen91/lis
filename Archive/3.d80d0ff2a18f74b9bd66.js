(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{"1aR6":function(e,t,i){"use strict";i.d(t,"a",function(){return ae});var n=i("TEn/"),o=i("fXoL"),s=i("ofXK"),a=i("3Pt+");const l=["searchbarComponent"];function c(e,t){if(1&e&&o.Lb(0,"span",12),2&e){const e=o.Zb(2);o.ec("ngTemplateOutlet",e.selectComponent.closeButtonTemplate)}}function r(e,t){if(1&e&&(o.Pb(0,"span"),o.pc(1),o.Ob()),2&e){const e=o.Zb(2);o.zb(1),o.rc(" ",e.selectComponent.closeButtonText," ")}}function h(e,t){if(1&e&&o.Lb(0,"span",12),2&e){const e=o.Zb(2);o.ec("ngTemplateOutlet",e.selectComponent.titleTemplate)}}function m(e,t){if(1&e&&(o.Pb(0,"span"),o.pc(1),o.Ob()),2&e){const e=o.Zb(2);o.zb(1),o.rc(" ",e.selectComponent.label," ")}}function d(e,t){if(1&e){const e=o.Qb();o.Pb(0,"ion-toolbar",9),o.Pb(1,"ion-buttons",10),o.Pb(2,"ion-button",11),o.Xb("click",function(){return o.lc(e),o.Zb().selectComponent._close()}),o.oc(3,c,1,1,"span",1),o.oc(4,r,2,1,"span",2),o.Ob(),o.Ob(),o.Pb(5,"ion-title"),o.oc(6,h,1,1,"span",1),o.oc(7,m,2,1,"span",2),o.Ob(),o.Ob()}if(2&e){const e=o.Zb();o.ec("color",e.selectComponent.headerColor?e.selectComponent.headerColor:null),o.zb(1),o.ec("slot",e.selectComponent.closeButtonSlot),o.zb(2),o.ec("ngIf",e.selectComponent.closeButtonTemplate),o.zb(1),o.ec("ngIf",!e.selectComponent.closeButtonTemplate),o.zb(2),o.ec("ngIf",e.selectComponent.titleTemplate),o.zb(1),o.ec("ngIf",!e.selectComponent.titleTemplate)}}function b(e,t){if(1&e&&o.Lb(0,"div",12),2&e){const e=o.Zb();o.ec("ngTemplateOutlet",e.selectComponent.headerTemplate)}}function u(e,t){if(1&e){const e=o.Qb();o.Pb(0,"ion-searchbar",15,16),o.Xb("ngModelChange",function(t){return o.lc(e),o.Zb(2).selectComponent._searchText=t})("ionChange",function(){return o.lc(e),o.Zb(2).selectComponent._filterItems()})("ionClear",function(){return o.lc(e),o.Zb(2).selectComponent._onSearchbarClear()}),o.Ob()}if(2&e){const e=o.Zb(2);o.ec("ngModel",e.selectComponent._searchText)("placeholder",e.selectComponent.searchPlaceholder)("debounce",e.selectComponent.searchDebounce)}}function p(e,t){if(1&e&&(o.Pb(0,"div",17),o.Lb(1,"div",12),o.Ob()),2&e){const e=o.Zb(2);o.zb(1),o.ec("ngTemplateOutlet",e.selectComponent.messageTemplate)}}function g(e,t){if(1&e&&(o.Pb(0,"ion-toolbar"),o.oc(1,u,2,3,"ion-searchbar",13),o.oc(2,p,2,1,"div",14),o.Ob()),2&e){const e=o.Zb();o.zb(1),o.ec("ngIf",e.selectComponent.canSearch),o.zb(1),o.ec("ngIf",e.selectComponent.messageTemplate)}}function f(e,t){1&e&&(o.Pb(0,"div",18),o.Lb(1,"div",19),o.Lb(2,"ion-spinner"),o.Ob())}const I=function(e){return{group:e}};function C(e,t){if(1&e&&o.Lb(0,"span",26),2&e){const e=o.Zb(2).$implicit,t=o.Zb(2);o.ec("ngTemplateOutlet",t.selectComponent.groupTemplate)("ngTemplateOutletContext",o.gc(2,I,e))}}function _(e,t){if(1&e&&(o.Pb(0,"ion-label"),o.pc(1),o.Ob()),2&e){const e=o.Zb(2).$implicit;o.zb(1),o.rc(" ",e.text," ")}}function v(e,t){if(1&e&&(o.Pb(0,"div",27),o.Lb(1,"div",26),o.Ob()),2&e){const e=o.Zb(2).$implicit,t=o.Zb(2);o.zb(1),o.ec("ngTemplateOutlet",t.selectComponent.groupEndTemplate)("ngTemplateOutletContext",o.gc(2,I,e))}}function O(e,t){if(1&e&&(o.Pb(0,"ion-item-divider",9),o.oc(1,C,1,4,"span",24),o.oc(2,_,2,1,"ion-label",2),o.oc(3,v,2,4,"div",25),o.Ob()),2&e){const e=o.Zb(3);o.ec("color",e.selectComponent.groupColor?e.selectComponent.groupColor:null),o.zb(1),o.ec("ngIf",e.selectComponent.groupTemplate),o.zb(1),o.ec("ngIf",!e.selectComponent.groupTemplate),o.zb(1),o.ec("ngIf",e.selectComponent.groupEndTemplate)}}const S=function(e,t){return{item:e,isItemSelected:t}};function T(e,t){if(1&e&&o.Lb(0,"span",26),2&e){const e=o.Zb().$implicit,t=o.Zb(3);o.ec("ngTemplateOutlet",t.selectComponent.itemTemplate)("ngTemplateOutletContext",o.hc(2,S,e,t.selectComponent._isItemSelected(e)))}}function P(e,t){if(1&e&&(o.Pb(0,"ion-label"),o.pc(1),o.Ob()),2&e){const e=o.Zb().$implicit,t=o.Zb(3);o.zb(1),o.rc(" ",t.selectComponent._formatItem(e)," ")}}function w(e,t){if(1&e&&(o.Pb(0,"div",27),o.Lb(1,"div",26),o.Ob()),2&e){const e=o.Zb().$implicit,t=o.Zb(3);o.zb(1),o.ec("ngTemplateOutlet",t.selectComponent.itemEndTemplate)("ngTemplateOutletContext",o.hc(2,S,e,t.selectComponent._isItemSelected(e)))}}function x(e,t){if(1&e&&o.Lb(0,"span",26),2&e){const e=o.Zb().$implicit,t=o.Zb(3);o.ec("ngTemplateOutlet",t.selectComponent.itemIconTemplate)("ngTemplateOutletContext",o.hc(2,S,e,t.selectComponent._isItemSelected(e)))}}function A(e,t){if(1&e&&o.Lb(0,"ion-icon",31),2&e){const e=o.Zb().$implicit,t=o.Zb(3);o.ec("name",t.selectComponent._isItemSelected(e)?"checkmark-circle":"radio-button-off")("color",t.selectComponent._isItemSelected(e)?"primary":null)("slot",t.selectComponent.itemIconSlot)}}function k(e,t){if(1&e){const e=o.Qb();o.Pb(0,"ion-button",32),o.Xb("click",function(t){o.lc(e);const i=o.Zb().$implicit;return o.Zb(3).selectComponent._saveItem(t,i)}),o.Lb(1,"ion-icon",33),o.Ob()}}function F(e,t){if(1&e){const e=o.Qb();o.Pb(0,"ion-button",32),o.Xb("click",function(t){o.lc(e);const i=o.Zb().$implicit;return o.Zb(3).selectComponent._deleteItemClick(t,i)}),o.Lb(1,"ion-icon",34),o.Ob()}}const M=function(e,t){return{"ionic-selectable-item-is-selected":e,"ionic-selectable-item-is-disabled":t}};function z(e,t){if(1&e){const e=o.Qb();o.Pb(0,"ion-item",28),o.Xb("click",function(){o.lc(e);const i=t.$implicit;return o.Zb(3).selectComponent._select(i)}),o.oc(1,T,1,5,"span",24),o.oc(2,P,2,1,"ion-label",2),o.oc(3,w,2,5,"div",25),o.oc(4,x,1,5,"span",24),o.oc(5,A,1,3,"ion-icon",29),o.oc(6,k,2,0,"ion-button",30),o.oc(7,F,2,0,"ion-button",30),o.Ob()}if(2&e){const e=t.$implicit,i=o.Zb(3);o.ec("ngClass",o.hc(9,M,i.selectComponent._isItemSelected(e),i.selectComponent._isItemDisabled(e)))("disabled",i.selectComponent._isItemDisabled(e)),o.zb(1),o.ec("ngIf",i.selectComponent.itemTemplate),o.zb(1),o.ec("ngIf",!i.selectComponent.itemTemplate),o.zb(1),o.ec("ngIf",i.selectComponent.itemEndTemplate),o.zb(1),o.ec("ngIf",i.selectComponent.itemIconTemplate),o.zb(1),o.ec("ngIf",!i.selectComponent.itemIconTemplate),o.zb(1),o.ec("ngIf",i.selectComponent.canSaveItem),o.zb(1),o.ec("ngIf",i.selectComponent.canDeleteItem)}}function y(e,t){if(1&e&&(o.Pb(0,"ion-item-group",22),o.oc(1,O,4,4,"ion-item-divider",0),o.oc(2,z,8,12,"ion-item",23),o.Ob()),2&e){const e=t.$implicit,i=o.Zb(2);o.zb(1),o.ec("ngIf",i.selectComponent._hasGroups),o.zb(1),o.ec("ngForOf",e.items)}}function D(e,t){if(1&e&&(o.Pb(0,"ion-list",20),o.oc(1,y,3,2,"ion-item-group",21),o.Ob()),2&e){const e=o.Zb();o.zb(1),o.ec("ngForOf",e.selectComponent._filteredGroups)}}function E(e,t){if(1&e&&o.Lb(0,"span",12),2&e){const e=o.Zb(2);o.ec("ngTemplateOutlet",e.selectComponent.searchFailTemplate)}}function V(e,t){if(1&e&&(o.Pb(0,"div",36),o.pc(1),o.Ob()),2&e){const e=o.Zb(2);o.zb(1),o.rc(" ",e.selectComponent.searchFailText," ")}}function L(e,t){if(1&e&&(o.Pb(0,"div"),o.oc(1,E,1,1,"span",1),o.oc(2,V,2,1,"div",35),o.Ob()),2&e){const e=o.Zb();o.zb(1),o.ec("ngIf",e.selectComponent.searchFailTemplate),o.zb(1),o.ec("ngIf",!e.selectComponent.searchFailTemplate)}}function Z(e,t){if(1&e){const e=o.Qb();o.Pb(0,"ion-infinite-scroll",37),o.Xb("ionInfinite",function(){return o.lc(e),o.Zb().selectComponent._getMoreItems()}),o.Lb(1,"ion-infinite-scroll-content"),o.Ob()}if(2&e){const e=o.Zb();o.ec("disabled",!e.selectComponent.hasInfiniteScroll)}}function B(e,t){if(1&e&&(o.Pb(0,"ion-item-divider",9),o.pc(1),o.Ob()),2&e){const e=t.$implicit,i=o.Zb(2);o.ec("color",i.selectComponent.groupColor?i.selectComponent.groupColor:null),o.zb(1),o.rc(" ",e," ")}}function X(e,t){if(1&e&&o.Lb(0,"span",26),2&e){const e=o.Zb().$implicit,t=o.Zb(2);o.ec("ngTemplateOutlet",t.selectComponent.itemTemplate)("ngTemplateOutletContext",o.hc(2,S,e,t.selectComponent._isItemSelected(e)))}}function N(e,t){if(1&e&&(o.Pb(0,"ion-label"),o.pc(1),o.Ob()),2&e){const e=o.Zb().$implicit,t=o.Zb(2);o.zb(1),o.rc(" ",t.selectComponent._formatItem(e)," ")}}function Q(e,t){if(1&e&&(o.Pb(0,"div",27),o.Lb(1,"div",26),o.Ob()),2&e){const e=o.Zb().$implicit,t=o.Zb(2);o.zb(1),o.ec("ngTemplateOutlet",t.selectComponent.itemEndTemplate)("ngTemplateOutletContext",o.hc(2,S,e,t.selectComponent._isItemSelected(e)))}}function Y(e,t){if(1&e&&o.Lb(0,"span",26),2&e){const e=o.Zb().$implicit,t=o.Zb(2);o.ec("ngTemplateOutlet",t.selectComponent.itemIconTemplate)("ngTemplateOutletContext",o.hc(2,S,e,t.selectComponent._isItemSelected(e)))}}function H(e,t){if(1&e&&o.Lb(0,"ion-icon",31),2&e){const e=o.Zb().$implicit,t=o.Zb(2);o.ec("name",t.selectComponent._isItemSelected(e)?"checkmark-circle":"radio-button-off")("color",t.selectComponent._isItemSelected(e)?"primary":null)("slot",t.selectComponent.itemIconSlot)}}function W(e,t){if(1&e){const e=o.Qb();o.Pb(0,"ion-button",32),o.Xb("click",function(t){o.lc(e);const i=o.Zb().$implicit;return o.Zb(2).selectComponent._saveItem(t,i)}),o.Lb(1,"ion-icon",41),o.Ob()}}function U(e,t){if(1&e){const e=o.Qb();o.Pb(0,"ion-button",32),o.Xb("click",function(t){o.lc(e);const i=o.Zb().$implicit;return o.Zb(2).selectComponent._deleteItemClick(t,i)}),o.Lb(1,"ion-icon",42),o.Ob()}}function j(e,t){if(1&e){const e=o.Qb();o.Pb(0,"ion-item",28),o.Xb("click",function(){o.lc(e);const i=t.$implicit;return o.Zb(2).selectComponent._select(i)}),o.oc(1,X,1,5,"span",24),o.oc(2,N,2,1,"ion-label",2),o.oc(3,Q,2,5,"div",25),o.oc(4,Y,1,5,"span",24),o.oc(5,H,1,3,"ion-icon",29),o.oc(6,W,2,0,"ion-button",30),o.oc(7,U,2,0,"ion-button",30),o.Ob()}if(2&e){const e=t.$implicit,i=o.Zb(2);o.ec("ngClass",o.hc(9,M,i.selectComponent._isItemSelected(e),i.selectComponent._isItemDisabled(e)))("disabled",i.selectComponent._isItemDisabled(e)),o.zb(1),o.ec("ngIf",i.selectComponent.itemTemplate),o.zb(1),o.ec("ngIf",!i.selectComponent.itemTemplate),o.zb(1),o.ec("ngIf",i.selectComponent.itemEndTemplate),o.zb(1),o.ec("ngIf",i.selectComponent.itemIconTemplate),o.zb(1),o.ec("ngIf",!i.selectComponent.itemIconTemplate),o.zb(1),o.ec("ngIf",i.selectComponent.canSaveItem),o.zb(1),o.ec("ngIf",i.selectComponent.canDeleteItem)}}function G(e,t){if(1&e&&(o.Pb(0,"ion-virtual-scroll",38),o.oc(1,B,2,2,"ion-item-divider",39),o.oc(2,j,8,12,"ion-item",40),o.Ob()),2&e){const e=o.Zb();o.ec("items",e.selectComponent._filteredGroups[0].items)("headerFn",e.selectComponent.virtualScrollHeaderFn)("approxItemHeight",e.selectComponent.virtualScrollApproxItemHeight)}}const R=function(e){return{"top.px":e}},J=function(e){return{height:e}},q=function(e,t){return{item:e,isAdd:t}};function K(e,t){if(1&e&&(o.Pb(0,"div",43),o.Pb(1,"div",44),o.Lb(2,"span",26),o.Ob(),o.Ob()),2&e){const e=o.Zb();o.ec("ngStyle",o.gc(4,R,e._header.offsetHeight)),o.zb(1),o.ec("ngStyle",o.gc(6,J,e.selectComponent._addItemTemplateFooterHeight)),o.zb(1),o.ec("ngTemplateOutlet",e.selectComponent.addItemTemplate)("ngTemplateOutletContext",o.hc(8,q,e.selectComponent._itemToAdd,null===e.selectComponent._itemToAdd))}}function $(e,t){if(1&e){const e=o.Qb();o.Pb(0,"ion-col"),o.Pb(1,"ion-button",46),o.Xb("click",function(){return o.lc(e),o.Zb(3).selectComponent._clear()}),o.pc(2),o.Ob(),o.Ob()}if(2&e){const e=o.Zb(3);o.zb(1),o.ec("disabled",!e.selectComponent._selectedItems.length),o.zb(1),o.rc(" ",e.selectComponent.clearButtonText," ")}}function ee(e,t){if(1&e){const e=o.Qb();o.Pb(0,"ion-col"),o.Pb(1,"ion-button",47),o.Xb("click",function(){return o.lc(e),o.Zb(3).selectComponent._addItemClick()}),o.pc(2),o.Ob(),o.Ob()}if(2&e){const e=o.Zb(3);o.zb(2),o.rc(" ",e.selectComponent.addButtonText," ")}}function te(e,t){if(1&e){const e=o.Qb();o.Pb(0,"ion-col"),o.Pb(1,"ion-button",46),o.Xb("click",function(){return o.lc(e),o.Zb(3).selectComponent._confirm()}),o.pc(2),o.Ob(),o.Ob()}if(2&e){const e=o.Zb(3);o.zb(1),o.ec("disabled",!e.selectComponent.isConfirmButtonEnabled),o.zb(1),o.rc(" ",e.selectComponent.confirmButtonText," ")}}function ie(e,t){if(1&e&&(o.Pb(0,"ion-toolbar"),o.Pb(1,"ion-row"),o.oc(2,$,3,2,"ion-col",2),o.oc(3,ee,3,1,"ion-col",2),o.oc(4,te,3,2,"ion-col",2),o.Ob(),o.Ob()),2&e){const e=o.Zb(2);o.zb(2),o.ec("ngIf",e.selectComponent.canClear),o.zb(1),o.ec("ngIf",e.selectComponent.canAddItem),o.zb(1),o.ec("ngIf",e.selectComponent.isMultiple||e.selectComponent.hasConfirmButton)}}function ne(e,t){if(1&e&&o.Lb(0,"div",12),2&e){const e=o.Zb(2);o.ec("ngTemplateOutlet",e.selectComponent.footerTemplate)}}const oe=function(e){return{visibility:e}};function se(e,t){if(1&e&&(o.Pb(0,"ion-footer",45),o.oc(1,ie,5,3,"ion-toolbar",2),o.oc(2,ne,1,1,"div",1),o.Ob()),2&e){const e=o.Zb();o.ec("ngStyle",o.gc(3,oe,e.selectComponent._isFooterVisible?"initial":"hidden")),o.zb(1),o.ec("ngIf",!e.selectComponent.footerTemplate),o.zb(1),o.ec("ngIf",e.selectComponent.footerTemplate)}}let ae=(()=>{class e{constructor(e,t){this.navParams=e,this._element=t,this._cssClass=!0,this.selectComponent=this.navParams.get("selectComponent"),this.selectComponent._modalComponent=this,this.selectComponent._selectedItems=[],this.selectComponent._isNullOrWhiteSpace(this.selectComponent.value)||(this.selectComponent.isMultiple?this.selectComponent.value.forEach(e=>{this.selectComponent._selectedItems.push(e)}):this.selectComponent._selectedItems.push(this.selectComponent.value)),this.selectComponent._setItemsToConfirm(this.selectComponent._selectedItems)}get _canClearCssClass(){return this.selectComponent.canClear}get _isMultipleCssClass(){return this.selectComponent.isMultiple}get _isSearchingCssClass(){return this.selectComponent._isSearching}get _isIos(){return this.selectComponent._isIos}_isMD(){return this.selectComponent._isMD}get _isAddItemTemplateVisibleCssClass(){return this.selectComponent._isAddItemTemplateVisible}onResize(){this.selectComponent._positionAddItemTemplate()}ngAfterViewInit(){this._header=this._element.nativeElement.querySelector("ion-header"),this._searchbarComponent&&this.selectComponent.shouldFocusSearchbar&&setTimeout(()=>{this._searchbarComponent.setFocus()},1e3)}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(n.db),o.Kb(o.m))},e.\u0275cmp=o.Eb({type:e,selectors:[["ionic-selectable-modal"]],viewQuery:function(e,t){if(1&e&&(o.tc(n.o,1),o.tc(l,1),o.tc(n.w,1)),2&e){let e;o.ic(e=o.Yb())&&(t._content=e.first),o.ic(e=o.Yb())&&(t._searchbarComponent=e.first),o.ic(e=o.Yb())&&(t._infiniteScroll=e.first)}},hostVars:14,hostBindings:function(e,t){1&e&&o.Xb("resize",function(){return t.onResize()},!1,o.kc),2&e&&o.Cb("ionic-selectable-modal",t._cssClass)("ionic-selectable-modal-can-clear",t._canClearCssClass)("ionic-selectable-modal-is-multiple",t._isMultipleCssClass)("ionic-selectable-modal-is-searching",t._isSearchingCssClass)("ionic-selectable-modal-ios",t._isIos)("ionic-selectable-modal-md",t._isMD)("ionic-selectable-modal-is-add-item-template-visible",t._isAddItemTemplateVisibleCssClass)},decls:12,vars:10,consts:[[3,"color",4,"ngIf"],[3,"ngTemplateOutlet",4,"ngIf"],[4,"ngIf"],["class","ionic-selectable-spinner",4,"ngIf"],["class","ion-no-margin",4,"ngIf"],[3,"disabled","ionInfinite",4,"ngIf"],["class","ion-no-margin",3,"items","headerFn","approxItemHeight",4,"ngIf"],["class","ionic-selectable-add-item-template",3,"ngStyle",4,"ngIf"],[3,"ngStyle",4,"ngIf"],[3,"color"],[3,"slot"],[3,"click"],[3,"ngTemplateOutlet"],[3,"ngModel","placeholder","debounce","ngModelChange","ionChange","ionClear",4,"ngIf"],["class","ionic-selectable-message",4,"ngIf"],[3,"ngModel","placeholder","debounce","ngModelChange","ionChange","ionClear"],["searchbarComponent",""],[1,"ionic-selectable-message"],[1,"ionic-selectable-spinner"],[1,"ionic-selectable-spinner-background"],[1,"ion-no-margin"],["class","ionic-selectable-group",4,"ngFor","ngForOf"],[1,"ionic-selectable-group"],["button","true","detail","false","class","ionic-selectable-item",3,"ngClass","disabled","click",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["slot","end",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["slot","end"],["button","true","detail","false",1,"ionic-selectable-item",3,"ngClass","disabled","click"],[3,"name","color","slot",4,"ngIf"],["class","ionic-selectable-item-button","slot","end","fill","outline",3,"click",4,"ngIf"],[3,"name","color","slot"],["slot","end","fill","outline",1,"ionic-selectable-item-button",3,"click"],["slot","icon-only","ios","create","md","create-sharp"],["slot","icon-only","ios","trash","md","trash-sharp"],["class","ion-margin",4,"ngIf"],[1,"ion-margin"],[3,"disabled","ionInfinite"],[1,"ion-no-margin",3,"items","headerFn","approxItemHeight"],[3,"color",4,"virtualHeader"],["button","true","detail","false","class","ionic-selectable-item",3,"ngClass","disabled","click",4,"virtualItem"],["slot","icon-only","name","md-create"],["slot","icon-only","name","md-trash"],[1,"ionic-selectable-add-item-template",3,"ngStyle"],[1,"ionic-selectable-add-item-template-inner",3,"ngStyle"],[3,"ngStyle"],["expand","full",3,"disabled","click"],["expand","full",3,"click"]],template:function(e,t){1&e&&(o.Pb(0,"ion-header"),o.oc(1,d,8,6,"ion-toolbar",0),o.oc(2,b,1,1,"div",1),o.oc(3,g,3,2,"ion-toolbar",2),o.Ob(),o.Pb(4,"ion-content"),o.oc(5,f,3,0,"div",3),o.oc(6,D,2,1,"ion-list",4),o.oc(7,L,3,2,"div",2),o.oc(8,Z,2,1,"ion-infinite-scroll",5),o.oc(9,G,3,3,"ion-virtual-scroll",6),o.Ob(),o.oc(10,K,3,11,"div",7),o.oc(11,se,3,5,"ion-footer",8)),2&e&&(o.zb(1),o.ec("ngIf",!t.selectComponent.headerTemplate),o.zb(1),o.ec("ngIf",t.selectComponent.headerTemplate),o.zb(1),o.ec("ngIf",t.selectComponent.canSearch||t.selectComponent.messageTemplate),o.zb(2),o.ec("ngIf",t.selectComponent._isSearching),o.zb(1),o.ec("ngIf",!t.selectComponent.hasVirtualScroll&&t.selectComponent._hasFilteredItems),o.zb(1),o.ec("ngIf",!t.selectComponent._hasFilteredItems),o.zb(1),o.ec("ngIf",!t.selectComponent.hasVirtualScroll),o.zb(1),o.ec("ngIf",t.selectComponent.hasVirtualScroll&&t.selectComponent._hasFilteredItems),o.zb(1),o.ec("ngIf",t.selectComponent._isAddItemTemplateVisible),o.zb(1),o.ec("ngIf",t.selectComponent._footerButtonsCount>0||t.selectComponent.footerTemplate))},directives:[n.u,s.k,n.o,n.X,n.h,n.g,n.V,s.m,n.L,n.ib,a.d,a.e,n.R,n.D,s.j,n.B,n.A,n.C,n.z,s.i,n.v,n.w,n.x,n.Y,n.jb,n.kb,s.l,n.s,n.K,n.n],encapsulation:2}),e})()},"8Vd6":function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("fXoL");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Fb({type:e,selectors:[["","ionicSelectableItemIconTemplate",""]]}),e})()},AKYK:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("fXoL");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Fb({type:e,selectors:[["","ionicSelectableTitleTemplate",""]]}),e})()},AYeB:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("fXoL");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Fb({type:e,selectors:[["","ionicSelectableGroupTemplate",""]]}),e})()},FdPp:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("fXoL");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Fb({type:e,selectors:[["","ionicSelectableHeaderTemplate",""]]}),e})()},GL5m:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("fXoL");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Fb({type:e,selectors:[["","ionicSelectableSearchFailTemplate",""]]}),e})()},J7sm:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("fXoL");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Fb({type:e,selectors:[["","ionicSelectableCloseButtonTemplate",""]]}),e})()},JmBq:function(e,t,i){"use strict";i.d(t,"a",function(){return y});var n=i("fXoL"),o=i("3Pt+"),s=i("TnqW"),a=i("J7sm"),l=i("Ys55"),c=i("VqCF"),r=i("AYeB"),h=i("FdPp"),m=i("R7F3"),d=i("8Vd6"),b=i("j+ev"),u=i("t6yK"),p=i("1aR6"),g=i("kNd2"),f=i("GL5m"),I=i("AKYK"),C=i("qPfB"),_=i("UY7p"),v=i("TEn/"),O=i("ofXK");const S=function(e){return{value:e}};function T(e,t){if(1&e&&n.Lb(0,"div",8),2&e){const e=n.Zb();n.ec("ngTemplateOutlet",e.valueTemplate)("ngTemplateOutletContext",n.gc(2,S,e._valueItems))}}function P(e,t){if(1&e&&(n.Pb(0,"div",9),n.Lb(1,"div",8),n.Ob()),2&e){const e=n.Zb();n.zb(1),n.ec("ngTemplateOutlet",e.valueTemplate)("ngTemplateOutletContext",n.gc(2,S,e._valueItems[0]))}}function w(e,t){if(1&e&&(n.Pb(0,"div",9),n.pc(1),n.Ob()),2&e){const e=t.$implicit,i=n.Zb(2);n.zb(1),n.rc(" ",i._formatValueItem(e)," ")}}function x(e,t){if(1&e&&(n.Pb(0,"span"),n.oc(1,w,2,1,"div",10),n.Ob()),2&e){const e=n.Zb();n.zb(1),n.ec("ngForOf",e._valueItems)}}function A(e,t){if(1&e&&(n.Pb(0,"div",9),n.Lb(1,"div",11),n.Ob()),2&e){const e=n.Zb();n.zb(1),n.ec("ngTemplateOutlet",e.placeholderTemplate)}}function k(e,t){if(1&e&&(n.Pb(0,"div",9),n.pc(1),n.Ob()),2&e){const e=n.Zb();n.zb(1),n.rc(" ",e.placeholder," ")}}function F(e,t){1&e&&(n.Pb(0,"span"),n.pc(1,"\xa0"),n.Ob())}function M(e,t){if(1&e&&(n.Pb(0,"div",12),n.Lb(1,"div",11),n.Ob()),2&e){const e=n.Zb();n.zb(1),n.ec("ngTemplateOutlet",e.iconTemplate)}}function z(e,t){1&e&&(n.Pb(0,"div",13),n.Lb(1,"div",14),n.Ob())}let y=(()=>{class e{constructor(e,t,i,o,s,a){this._modalController=e,this._platform=t,this.ionItem=i,this._iterableDiffers=o,this._element=s,this._renderer=a,this._cssClass=!0,this._isOnSearchEnabled=!0,this._isEnabled=!0,this._shouldBackdropClose=!0,this._isOpened=!1,this._value=null,this._canClear=!1,this._hasConfirmButton=!1,this._isMultiple=!1,this._canAddItem=!1,this.onItemsChange=new n.o,this._hasIonLabel=!1,this._ionLabelPosition=null,this._label=null,this._valueItems=[],this._searchText="",this._hasSearchText=!1,this._groups=[],this._itemsToConfirm=[],this._selectedItems=[],this._filteredGroups=[],this._isAddItemTemplateVisible=!1,this._isFooterVisible=!0,this._itemToAdd=null,this._footerButtonsCount=0,this._hasFilteredItems=!1,this.items=[],this.itemsChange=new n.o,this.modalCssClass=null,this.modalEnterAnimation=null,this.modalLeaveAnimation=null,this.isConfirmButtonEnabled=!0,this.itemValueField=null,this.itemTextField=null,this.groupValueField=null,this.groupTextField=null,this.canSearch=!1,this.hasInfiniteScroll=!1,this.hasVirtualScroll=!1,this.virtualScrollApproxItemHeight="40px",this.searchPlaceholder="Search",this.placeholder=null,this.searchFailText="No items found.",this.clearButtonText="Clear",this.addButtonText="Add",this.confirmButtonText="OK",this.closeButtonText="Cancel",this.shouldFocusSearchbar=!1,this.headerColor=null,this.groupColor=null,this.closeButtonSlot="start",this.itemIconSlot="start",this.onChange=new n.o,this.onSearch=new n.o,this.onSearchFail=new n.o,this.onSearchSuccess=new n.o,this.onInfiniteScroll=new n.o,this.onOpen=new n.o,this.onClose=new n.o,this.onSelect=new n.o,this.onClear=new n.o,this.searchDebounce=250,this.disabledItems=[],this.shouldStoreItemValue=!1,this.canSaveItem=!1,this.canDeleteItem=!1,this.onSaveItem=new n.o,this.onDeleteItem=new n.o,this.onAddItem=new n.o,this.virtualScrollHeaderFn=()=>null,this.propagateOnChange=e=>{},this.propagateOnTouched=()=>{},this.items&&this.items.length||(this.items=[]),this._itemsDiffer=this._iterableDiffers.find(this.items).create()}get _isMultipleCssClass(){return this.isMultiple}get _hasValueCssClass(){return this.hasValue()}get _hasPlaceholderCssClass(){return this._hasPlaceholder}get _hasIonLabelCssClass(){return this._hasIonLabel}get _hasDefaultIonLabelCssClass(){return"default"===this._ionLabelPosition}get _hasFixedIonLabelCssClass(){return"fixed"===this._ionLabelPosition}get _hasStackedIonLabelCssClass(){return"stacked"===this._ionLabelPosition}get _hasFloatingIonLabelCssClass(){return"floating"===this._ionLabelPosition}get _hasInfiniteScroll(){return!!(this.isEnabled&&this._modalComponent&&this._modalComponent._infiniteScroll)}get _shouldStoreItemValue(){return this.shouldStoreItemValue&&this._hasObjects}get label(){return this._label}get searchText(){return this._searchText}set searchText(e){this._searchText=e,this._setHasSearchText()}get isSearching(){return this._isSearching}get hasSearchText(){return this._hasSearchText}get value(){return this._value}set value(e){this._value=e,this._valueItems.splice(0,this._valueItems.length),this.isMultiple?e&&e.length&&Array.prototype.push.apply(this._valueItems,e):this._isNullOrWhiteSpace(e)||this._valueItems.push(e),this._setIonItemHasValue(),this._setHasPlaceholder()}get isEnabled(){return this._isEnabled}set isEnabled(e){this._isEnabled=!!e,this.enableIonItem(this._isEnabled)}get shouldBackdropClose(){return this._shouldBackdropClose}set shouldBackdropClose(e){this._shouldBackdropClose=!!e}get isOpened(){return this._isOpened}get hasConfirmButton(){return this._hasConfirmButton}set hasConfirmButton(e){this._hasConfirmButton=!!e,this._countFooterButtons()}get isOnSearchEnabled(){return this._isOnSearchEnabled}set isOnSearchEnabled(e){this._isOnSearchEnabled=!!e}get canClear(){return this._canClear}set canClear(e){this._canClear=!!e,this._countFooterButtons()}get isMultiple(){return this._isMultiple}set isMultiple(e){this._isMultiple=!!e,this._countFooterButtons()}get itemsToConfirm(){return this._itemsToConfirm}get canAddItem(){return this._canAddItem}set canAddItem(e){this._canAddItem=!!e,this._countFooterButtons()}initFocus(){}enableIonItem(e){this.ionItem&&(this.ionItem.disabled=!e)}_isNullOrWhiteSpace(e){return null==e||e.toString().replace(/\s/g,"").length<1}_setHasSearchText(){this._hasSearchText=!this._isNullOrWhiteSpace(this._searchText)}_hasOnSearch(){return this.isOnSearchEnabled&&this.onSearch.observers.length>0}_hasOnSaveItem(){return this.canSaveItem&&this.onSaveItem.observers.length>0}_hasOnAddItem(){return this.canAddItem&&this.onAddItem.observers.length>0}_hasOnDeleteItem(){return this.canDeleteItem&&this.onDeleteItem.observers.length>0}_emitValueChange(){this.propagateOnChange(this.value),this.onChange.emit({component:this,value:this.value})}_emitSearch(){this.canSearch&&this.onSearch.emit({component:this,text:this._searchText})}_emitOnSelect(e,t){this.onSelect.emit({component:this,item:e,isSelected:t})}_emitOnClear(e){this.onClear.emit({component:this,items:e})}_emitOnSearchSuccessOrFail(e){const t={component:this,text:this._searchText};e?this.onSearchSuccess.emit(t):this.onSearchFail.emit(t)}_formatItem(e){return this._isNullOrWhiteSpace(e)?null:this.itemTextField?e[this.itemTextField]:e.toString()}_formatValueItem(e){if(this._shouldStoreItemValue){const t=this.items.find(t=>t[this.itemValueField]===e);return this._formatItem(t)}return this._formatItem(e)}_getItemValue(e){return this._hasObjects?e[this.itemValueField]:e}_getStoredItemValue(e){return this._hasObjects?this._shouldStoreItemValue?e:e[this.itemValueField]:e}_onSearchbarClear(){this._searchText=""}_filterItems(){if(this._setHasSearchText(),this._hasOnSearch())this._emitSearch();else{let e=[];if(this._searchText&&this._searchText.trim()){const t=this._searchText.trim().toLowerCase();this._groups.forEach(i=>{const n=i.items.filter(e=>-1!==(this.itemTextField?e[this.itemTextField]:e).toString().toLowerCase().indexOf(t));n.length&&e.push({value:i.value,text:i.text,items:n})}),e.length||e.push({items:[]})}else e=this._groups;this._filteredGroups=e,this._hasFilteredItems=!this._areGroupsEmpty(e),this._emitOnSearchSuccessOrFail(this._hasFilteredItems)}}_isItemDisabled(e){if(this.disabledItems)return this.disabledItems.some(t=>this._getItemValue(t)===this._getItemValue(e))}_isItemSelected(e){return void 0!==this._selectedItems.find(t=>this._getItemValue(e)===this._getStoredItemValue(t))}_addSelectedItem(e){this._selectedItems.push(this._shouldStoreItemValue?this._getItemValue(e):e)}_deleteSelectedItem(e){let t;this._selectedItems.forEach((i,n)=>{this._getItemValue(e)===this._getStoredItemValue(i)&&(t=n)}),this._selectedItems.splice(t,1)}_click(){this.isEnabled&&(this._label=this._getLabelText(),this.open().then(()=>{this.onOpen.emit({component:this})}))}_saveItem(e,t){e.stopPropagation(),this._itemToAdd=t,this._hasOnSaveItem()?this.onSaveItem.emit({component:this,item:this._itemToAdd}):this.showAddItemTemplate()}_deleteItemClick(e,t){e.stopPropagation(),this._itemToAdd=t,this._hasOnDeleteItem()?this.onDeleteItem.emit({component:this,item:this._itemToAdd}):this.deleteItem(this._itemToAdd)}_addItemClick(){this._hasOnAddItem()?this.onAddItem.emit({component:this}):this.showAddItemTemplate()}_positionAddItemTemplate(){setTimeout(()=>{const e=this._modalComponent._element.nativeElement.querySelector(".ionic-selectable-add-item-template ion-footer");this._addItemTemplateFooterHeight=e?`calc(100% - ${e.offsetHeight}px)`:"100%"},100)}_close(){this.close().then(()=>{this.onClose.emit({component:this})}),this._hasOnSearch()||(this._searchText="",this._setHasSearchText())}_clear(){const e=this._selectedItems;this.clear(),this._emitValueChange(),this._emitOnClear(e),this.close().then(()=>{this.onClose.emit({component:this})})}_getMoreItems(){this.onInfiniteScroll.emit({component:this,text:this._searchText})}_setItemsToConfirm(e){this._itemsToConfirm=[].concat(e)}_doSelect(e){this.value=e,this._emitValueChange()}_select(e){const t=this._isItemSelected(e);this.isMultiple?(t?this._deleteSelectedItem(e):this._addSelectedItem(e),this._setItemsToConfirm(this._selectedItems),this._emitOnSelect(e,!t)):this.hasConfirmButton||this.footerTemplate?(this._selectedItems=[],t?this._deleteSelectedItem(e):this._addSelectedItem(e),this._setItemsToConfirm(this._selectedItems),this._emitOnSelect(e,!t)):(t||(this._selectedItems=[],this._addSelectedItem(e),this._emitOnSelect(e,!0),this._doSelect(this._shouldStoreItemValue?this._getItemValue(e):e)),this._close())}_confirm(){this.confirm(),this._close()}_getLabelText(){return this._ionLabelElement?this._ionLabelElement.textContent:null}_areGroupsEmpty(e){return 0===e.length||e.every(e=>!e.items||0===e.items.length)}_countFooterButtons(){let e=0;this.canClear&&e++,(this.isMultiple||this._hasConfirmButton)&&e++,this.canAddItem&&e++,this._footerButtonsCount=e}_setItems(e){let t=[{items:e||[]}];e&&e.length&&this._hasGroups&&(t=[],e.forEach(e=>{const i=this._getPropertyValue(e,this.groupValueField),n=t.find(e=>e.value===i);n?n.items.push(e):t.push({value:i,text:this._getPropertyValue(e,this.groupTextField),items:[e]})})),this._groups=t,this._filteredGroups=this._groups,this._hasFilteredItems=!this._areGroupsEmpty(this._filteredGroups)}_getPropertyValue(e,t){return t?t.split(".").reduce((e,t)=>e?e[t]:null,e):null}_setIonItemHasFocus(e){this.ionItem&&this._setIonItemCssClass("item-has-focus",e)}_setIonItemHasValue(){this.ionItem&&this._setIonItemCssClass("item-has-value",this.hasValue())}_setHasPlaceholder(){this._hasPlaceholder=!(this.hasValue()||this._isNullOrWhiteSpace(this.placeholder)&&!this.placeholderTemplate)}_setIonItemCssClass(e,t){this._ionItemElement&&(t?this._renderer.addClass(this._ionItemElement,e):this._renderer.removeClass(this._ionItemElement,e))}_toggleAddItemTemplate(e){this.addItemTemplate&&(this._isAddItemTemplateVisible=e,this._isFooterVisible=!e)}writeValue(e){this.value=e}registerOnChange(e){this.propagateOnChange=e}registerOnTouched(e){this.propagateOnTouched=e}setDisabledState(e){this.isEnabled=!e}ngOnInit(){this._isIos=this._platform.is("ios"),this._isMD=!this._isIos,this._hasObjects=!this._isNullOrWhiteSpace(this.itemValueField),this._hasGroups=Boolean(this._hasObjects&&this.groupValueField&&!this.hasVirtualScroll),this.ionItem&&(this._ionItemElement=this._element.nativeElement.closest("ion-item"),this._setIonItemCssClass("item-interactive",!0),this._setIonItemCssClass("item-ionic-selectable",!0),this._ionItemElement&&(this._ionLabelElement=this._ionItemElement.querySelector("ion-label"),this._ionLabelElement&&(this._hasIonLabel=!0,this._ionLabelPosition=this._ionLabelElement.getAttribute("position")||"default"))),this.enableIonItem(this.isEnabled)}ngDoCheck(){this._itemsDiffer.diff(this.items)&&(this._setItems(this.items),this.value=this.value,this.onItemsChange.emit({component:this}))}addItem(e){const t=this;return this.items.unshift(e),this._addItemObservable&&this._addItemObservable.unsubscribe(),new Promise(function(e,i){t._addItemObservable=t.onItemsChange.asObservable().subscribe(()=>{t._addItemObservable.unsubscribe(),e()},()=>{t._addItemObservable.unsubscribe(),i()})})}deleteItem(e){const t=this;let i=!1;if(this._selectedItems&&(this._selectedItems=this._selectedItems.filter(t=>this._getItemValue(e)!==this._getStoredItemValue(t))),this.value)if(this.isMultiple){const t=this.value.filter(t=>t.id!==e.id);t.length!==this.value.length&&(this.value=t,i=!0)}else e===this.value&&(this.value=null,i=!0);i&&this._emitValueChange();const n=this.items.filter(t=>t.id!==e.id);return this.itemsChange.emit(n),this._setItems(n),this.onItemsChange.emit({component:this}),this._deleteItemObservable&&this._deleteItemObservable.unsubscribe(),new Promise(function(e,i){t._deleteItemObservable=t.onItemsChange.asObservable().subscribe(()=>{t._deleteItemObservable.unsubscribe(),e()},()=>{t._deleteItemObservable.unsubscribe(),i()})})}hasValue(){return this.isMultiple?0!==this._valueItems.length:0!==this._valueItems.length&&!this._isNullOrWhiteSpace(this._valueItems[0])}open(){const e=this;return new Promise(function(t,i){if(!e._isEnabled||e._isOpened)return void i("IonicSelectable is disabled or already opened.");e._filterItems(),e._isOpened=!0;const n={component:p.a,componentProps:{selectComponent:e},backdropDismiss:e._shouldBackdropClose};e.modalCssClass&&(n.cssClass=e.modalCssClass),e.modalEnterAnimation&&(n.enterAnimation=e.modalEnterAnimation),e.modalLeaveAnimation&&(n.leaveAnimation=e.modalLeaveAnimation),e._modalController.create(n).then(i=>{e._modal=i,i.present().then(()=>{e._setIonItemHasFocus(!0),t()}),i.onWillDismiss().then(()=>{e._setIonItemHasFocus(!1)}),i.onDidDismiss().then(t=>{e._isOpened=!1,e._itemsToConfirm=[],"backdrop"===t.role&&e.onClose.emit({component:e})})})})}close(){const e=this;return new Promise(function(t,i){e._isEnabled&&e._isOpened?(e.propagateOnTouched(),e._isOpened=!1,e._itemToAdd=null,e._modal.dismiss().then(()=>{e._setIonItemHasFocus(!1),e.hideAddItemTemplate(),t()})):i("IonicSelectable is disabled or already closed.")})}clear(){this.value=this.isMultiple?[]:null,this._itemsToConfirm=[],this.propagateOnChange(this.value)}confirm(){this.isMultiple?this._doSelect(this._selectedItems):(this.hasConfirmButton||this.footerTemplate)&&this._doSelect(this._selectedItems[0]||null)}toggleItems(e,t){if(e){const e=t&&t.length;let i=this._groups.reduce((e,t)=>e.concat(t.items),[]);this.isMultiple||e||(i=[]),e&&(i=i.filter(e=>void 0!==t.find(t=>this._getItemValue(e)===this._getItemValue(t))),this.isMultiple||i.splice(0,1)),i.forEach(e=>{this._addSelectedItem(e)})}else this._selectedItems=[];this._setItemsToConfirm(this._selectedItems)}scrollToTop(){const e=this;return new Promise(function(t,i){e._isOpened?e._modalComponent._content.scrollToTop().then(()=>{t()}):i("IonicSelectable content cannot be scrolled.")})}scrollToBottom(){const e=this;return new Promise(function(t,i){e._isOpened?e._modalComponent._content.scrollToBottom().then(()=>{t()}):i("IonicSelectable content cannot be scrolled.")})}startSearch(){this._isEnabled&&this.showLoading()}endSearch(){this._isEnabled&&(this.hideLoading(),this._setItems(this.items),this._emitOnSearchSuccessOrFail(this._hasFilteredItems))}enableInfiniteScroll(){this._hasInfiniteScroll&&(this._modalComponent._infiniteScroll.disabled=!1)}disableInfiniteScroll(){this._hasInfiniteScroll&&(this._modalComponent._infiniteScroll.disabled=!0)}endInfiniteScroll(){this._hasInfiniteScroll&&(this._modalComponent._infiniteScroll.complete(),this._setItems(this.items))}search(e){this._isEnabled&&this._isOpened&&this.canSearch&&(this._searchText=e,this._setHasSearchText(),this._filterItems())}showLoading(){this._isEnabled&&(this._isSearching=!0)}hideLoading(){this._isEnabled&&(this._isSearching=!1)}showAddItemTemplate(){this._toggleAddItemTemplate(!0),this._positionAddItemTemplate()}hideAddItemTemplate(){this._itemToAdd=null,this._toggleAddItemTemplate(!1)}}return e.\u0275fac=function(t){return new(t||e)(n.Kb(v.cb),n.Kb(v.fb),n.Kb(v.z,8),n.Kb(n.u),n.Kb(n.m),n.Kb(n.F))},e.\u0275cmp=n.Eb({type:e,selectors:[["ionic-selectable"]],contentQueries:function(e,t,i){if(1&e&&(n.Db(i,C.a,1,n.M),n.Db(i,b.a,1,n.M),n.Db(i,m.a,1,n.M),n.Db(i,I.a,1,n.M),n.Db(i,g.a,1,n.M),n.Db(i,u.a,1,n.M),n.Db(i,r.a,1,n.M),n.Db(i,c.a,1,n.M),n.Db(i,a.a,1,n.M),n.Db(i,f.a,1,n.M),n.Db(i,s.a,1,n.M),n.Db(i,l.a,1,n.M),n.Db(i,h.a,1,n.M),n.Db(i,d.a,1,n.M),n.Db(i,_.a,1,n.M)),2&e){let e;n.ic(e=n.Yb())&&(t.valueTemplate=e.first),n.ic(e=n.Yb())&&(t.itemTemplate=e.first),n.ic(e=n.Yb())&&(t.itemEndTemplate=e.first),n.ic(e=n.Yb())&&(t.titleTemplate=e.first),n.ic(e=n.Yb())&&(t.placeholderTemplate=e.first),n.ic(e=n.Yb())&&(t.messageTemplate=e.first),n.ic(e=n.Yb())&&(t.groupTemplate=e.first),n.ic(e=n.Yb())&&(t.groupEndTemplate=e.first),n.ic(e=n.Yb())&&(t.closeButtonTemplate=e.first),n.ic(e=n.Yb())&&(t.searchFailTemplate=e.first),n.ic(e=n.Yb())&&(t.addItemTemplate=e.first),n.ic(e=n.Yb())&&(t.footerTemplate=e.first),n.ic(e=n.Yb())&&(t.headerTemplate=e.first),n.ic(e=n.Yb())&&(t.itemIconTemplate=e.first),n.ic(e=n.Yb())&&(t.iconTemplate=e.first)}},hostVars:26,hostBindings:function(e,t){2&e&&n.Cb("ionic-selectable",t._cssClass)("ionic-selectable-is-multiple",t._isMultipleCssClass)("ionic-selectable-has-value",t._hasValueCssClass)("ionic-selectable-has-placeholder",t._hasPlaceholderCssClass)("ionic-selectable-has-label",t._hasIonLabelCssClass)("ionic-selectable-label-default",t._hasDefaultIonLabelCssClass)("ionic-selectable-label-fixed",t._hasFixedIonLabelCssClass)("ionic-selectable-label-stacked",t._hasStackedIonLabelCssClass)("ionic-selectable-label-floating",t._hasFloatingIonLabelCssClass)("ionic-selectable-is-enabled",t.isEnabled)("ionic-selectable-can-clear",t.canClear)("ionic-selectable-ios",t._isIos)("ionic-selectable-md",t._isMD)},inputs:{items:"items",modalCssClass:"modalCssClass",modalEnterAnimation:"modalEnterAnimation",modalLeaveAnimation:"modalLeaveAnimation",isConfirmButtonEnabled:"isConfirmButtonEnabled",itemValueField:"itemValueField",itemTextField:"itemTextField",groupValueField:"groupValueField",groupTextField:"groupTextField",canSearch:"canSearch",hasInfiniteScroll:"hasInfiniteScroll",hasVirtualScroll:"hasVirtualScroll",virtualScrollApproxItemHeight:"virtualScrollApproxItemHeight",searchPlaceholder:"searchPlaceholder",placeholder:"placeholder",searchFailText:"searchFailText",clearButtonText:"clearButtonText",addButtonText:"addButtonText",confirmButtonText:"confirmButtonText",closeButtonText:"closeButtonText",shouldFocusSearchbar:"shouldFocusSearchbar",headerColor:"headerColor",groupColor:"groupColor",closeButtonSlot:"closeButtonSlot",itemIconSlot:"itemIconSlot",searchDebounce:"searchDebounce",disabledItems:"disabledItems",shouldStoreItemValue:"shouldStoreItemValue",canSaveItem:"canSaveItem",canDeleteItem:"canDeleteItem",virtualScrollHeaderFn:"virtualScrollHeaderFn",isEnabled:"isEnabled",shouldBackdropClose:"shouldBackdropClose",hasConfirmButton:"hasConfirmButton",isOnSearchEnabled:"isOnSearchEnabled",canClear:"canClear",isMultiple:"isMultiple",canAddItem:"canAddItem"},outputs:{itemsChange:"itemsChange",onChange:"onChange",onSearch:"onSearch",onSearchFail:"onSearchFail",onSearchSuccess:"onSearchSuccess",onInfiniteScroll:"onInfiniteScroll",onOpen:"onOpen",onClose:"onClose",onSelect:"onSelect",onClear:"onClear",onSaveItem:"onSaveItem",onDeleteItem:"onDeleteItem",onAddItem:"onAddItem"},features:[n.yb([{provide:o.b,useExisting:Object(n.U)(()=>e),multi:!0}])],decls:11,vars:9,consts:[[1,"ionic-selectable-inner"],[1,"ionic-selectable-value"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],["class","ionic-selectable-value-item",4,"ngIf"],[4,"ngIf"],["class","ionic-selectable-icon-template",4,"ngIf"],["class","ionic-selectable-icon",4,"ngIf"],["type","button",1,"ionic-selectable-cover",3,"disabled","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"ionic-selectable-value-item"],["class","ionic-selectable-value-item",4,"ngFor","ngForOf"],[3,"ngTemplateOutlet"],[1,"ionic-selectable-icon-template"],[1,"ionic-selectable-icon"],[1,"ionic-selectable-icon-inner"]],template:function(e,t){1&e&&(n.Pb(0,"div",0),n.Pb(1,"div",1),n.oc(2,T,1,4,"div",2),n.oc(3,P,2,4,"div",3),n.oc(4,x,2,1,"span",4),n.oc(5,A,2,1,"div",3),n.oc(6,k,2,1,"div",3),n.oc(7,F,2,0,"span",4),n.Ob(),n.oc(8,M,2,1,"div",5),n.oc(9,z,2,0,"div",6),n.Pb(10,"button",7),n.Xb("click",function(){return t._click()}),n.Ob(),n.Ob()),2&e&&(n.zb(2),n.ec("ngIf",t.valueTemplate&&t._valueItems.length&&t.isMultiple),n.zb(1),n.ec("ngIf",t.valueTemplate&&t._valueItems.length&&!t.isMultiple),n.zb(1),n.ec("ngIf",!t.valueTemplate&&t._valueItems.length),n.zb(1),n.ec("ngIf",t._hasPlaceholder&&t.placeholderTemplate),n.zb(1),n.ec("ngIf",t._hasPlaceholder&&!t.placeholderTemplate),n.zb(1),n.ec("ngIf",!t._valueItems.length&&!t._hasPlaceholder),n.zb(1),n.ec("ngIf",t.iconTemplate),n.zb(1),n.ec("ngIf",!t.iconTemplate),n.zb(1),n.ec("disabled",!t.isEnabled))},directives:[O.k,O.m,O.j],styles:[".item-ionic-selectable .item-inner .input-wrapper{align-items:normal}.item-ionic-selectable ion-label{flex:1;max-width:none}.ionic-selectable{display:block;max-width:45%}.ionic-selectable-inner{display:flex;flex-wrap:wrap;flex-direction:row;justify-content:flex-end}.ionic-selectable-has-placeholder .ionic-selectable-value-item{color:var(--placeholder-color,#999)}.ionic-selectable-value{flex:1;padding-top:13px;padding-bottom:13px;overflow:hidden}.ionic-selectable-value-item{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.ionic-selectable-value-item:not(:last-child){margin-bottom:5px}.ionic-selectable-icon{position:relative;width:20px}.ionic-selectable-icon-inner{position:absolute;top:20px;left:5px;border-top:5px solid;border-right:5px solid transparent;border-left:5px solid transparent;pointer-events:none;color:var(--icon-color,#999)}.ionic-selectable-icon-template{align-self:center;margin-left:5px}.ionic-selectable-ios .ionic-selectable-value{padding-top:11px;padding-bottom:11px}.ionic-selectable-ios .ionic-selectable-icon-inner{top:19px}.ionic-selectable-spinner{position:fixed;bottom:0;top:0;left:0;right:0;z-index:1}.ionic-selectable-spinner-background{top:0;bottom:0;left:0;right:0;position:absolute;background-color:#000;opacity:.05}.ionic-selectable-spinner ion-spinner{position:absolute;top:50%;left:50%;z-index:10;margin-top:-14px;margin-left:-14px}.ionic-selectable-cover{left:0;top:0;margin:0;position:absolute;width:100%;height:100%;border:0;background:0 0;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;outline:0}.ionic-selectable-add-item-template{position:fixed;bottom:0;left:0;right:0;background-color:#fff}.ionic-selectable-add-item-template-inner{overflow-y:auto}.ionic-selectable-add-item-template-inner>ion-footer{bottom:0;position:absolute}.ionic-selectable:not(.ionic-selectable-has-label){max-width:100%;width:100%}.ionic-selectable:not(.ionic-selectable-has-label)-value-item{text-align:right}.ionic-selectable-label-floating,.ionic-selectable-label-stacked{align-self:stretch;max-width:100%;padding-left:0;padding-top:8px;padding-bottom:8px}.ionic-selectable-label-floating .ionic-selectable-value,.ionic-selectable-label-stacked .ionic-selectable-value{padding-top:0;padding-bottom:0;min-height:19px}.ionic-selectable-label-floating .ionic-selectable-icon-inner,.ionic-selectable-label-stacked .ionic-selectable-icon-inner{top:7px}.ionic-selectable-label-floating.ionic-selectable-ios .ionic-selectable-value,.ionic-selectable-label-stacked.ionic-selectable-ios .ionic-selectable-value{padding-top:0;padding-bottom:0;min-height:20px}.ionic-selectable-label-floating.ionic-selectable-ios .ionic-selectable-icon-inner,.ionic-selectable-label-stacked.ionic-selectable-ios .ionic-selectable-icon-inner{top:8px}.ionic-selectable-label-default .ionic-selectable-value,.ionic-selectable-label-fixed .ionic-selectable-value{padding-left:var(--padding-start,16px)}.ionic-selectable-label-fixed:not(.ionic-selectable-has-value) .ionic-selectable-value{padding-left:calc(var(--padding-start, $padding) + 11px)}.ionic-selectable-modal .ionic-selectable-group ion-item-divider{padding-right:16px}.ionic-selectable-modal .ionic-selectable-item-button{margin-left:8px;margin-right:8px}.ionic-selectable-modal-ios .ionic-selectable-message{padding:8px}.ionic-selectable-modal-ios .ionic-selectable-group ion-item-divider{padding-right:8px}.ionic-selectable-modal-md .ionic-selectable-message{padding:8px 12px}.ionic-selectable-modal.ionic-selectable-modal-can-clear.ionic-selectable-modal-is-multiple .footer .col:first-child{padding-right:8px}.ionic-selectable-modal.ionic-selectable-modal-can-clear.ionic-selectable-modal-is-multiple .footer .col:last-child{padding-left:8px}.ionic-selectable-modal.ionic-selectable-modal-is-add-item-template-visible>.content>.scroll-content,.ionic-selectable-modal.ionic-selectable-modal-is-searching .scroll-content{overflow-y:hidden}.ionic-selectable-modal ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top,0)}"],encapsulation:2}),e})()},QKVY:function(e,t,i){"use strict";i.d(t,"a",function(){return h}),i.d(t,"b",function(){return m}),i.d(t,"c",function(){return r});var n=i("fXoL"),o=i("ofXK");const s=["video"],a=["canvas"];function l(e,t){if(1&e){const e=n.Qb();n.Pb(0,"div",6),n.Xb("click",function(){return n.lc(e),n.Zb().rotateVideoInput(!0)}),n.Ob()}}class c{constructor(e,t,i){this._mimeType=null,this._imageAsBase64=null,this._imageAsDataUrl=null,this._imageData=null,this._mimeType=t,this._imageAsDataUrl=e,this._imageData=i}static getDataFromDataUrl(e,t){return e.replace(`data:${t};base64,`,"")}get imageAsBase64(){return this._imageAsBase64?this._imageAsBase64:this._imageAsBase64=c.getDataFromDataUrl(this._imageAsDataUrl,this._mimeType)}get imageAsDataUrl(){return this._imageAsDataUrl}get imageData(){return this._imageData}}class r{static getAvailableVideoInputs(){return navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?new Promise((e,t)=>{navigator.mediaDevices.enumerateDevices().then(t=>{e(t.filter(e=>"videoinput"===e.kind))}).catch(e=>{t(e.message||e)})}):Promise.reject("enumerateDevices() not supported.")}}let h=(()=>{class e{constructor(){this.width=640,this.height=480,this.videoOptions=e.DEFAULT_VIDEO_OPTIONS,this.allowCameraSwitch=!0,this.captureImageData=!1,this.imageType=e.DEFAULT_IMAGE_TYPE,this.imageQuality=e.DEFAULT_IMAGE_QUALITY,this.imageCapture=new n.o,this.initError=new n.o,this.imageClick=new n.o,this.cameraSwitched=new n.o,this.availableVideoInputs=[],this.videoInitialized=!1,this.activeVideoInputIndex=-1,this.mediaStream=null,this.activeVideoSettings=null}set trigger(e){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.triggerSubscription=e.subscribe(()=>{this.takeSnapshot()})}set switchCamera(e){this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe(),this.switchCameraSubscription=e.subscribe(e=>{"string"==typeof e?this.switchToVideoInput(e):this.rotateVideoInput(!1!==e)})}static getMediaConstraintsForDevice(e,t){const i=t||this.DEFAULT_VIDEO_OPTIONS;return e&&(i.deviceId={exact:e}),i}static getDeviceIdFromMediaStreamTrack(t){if(t.getSettings&&t.getSettings()&&t.getSettings().deviceId)return t.getSettings().deviceId;if(t.getConstraints&&t.getConstraints()&&t.getConstraints().deviceId){const i=t.getConstraints().deviceId;return e.getValueFromConstrainDOMString(i)}}static getFacingModeFromMediaStreamTrack(t){if(t){if(t.getSettings&&t.getSettings()&&t.getSettings().facingMode)return t.getSettings().facingMode;if(t.getConstraints&&t.getConstraints()&&t.getConstraints().facingMode){const i=t.getConstraints().facingMode;return e.getValueFromConstrainDOMString(i)}}}static isUserFacing(t){const i=e.getFacingModeFromMediaStreamTrack(t);return!!i&&"user"===i.toLowerCase()}static getValueFromConstrainDOMString(e){if(e){if(e instanceof String)return String(e);if(Array.isArray(e)&&Array(e).length>0)return String(e[0]);if("object"==typeof e){if(e.exact)return String(e.exact);if(e.ideal)return String(e.ideal)}}return null}ngAfterViewInit(){this.detectAvailableDevices().then(()=>{this.switchToVideoInput(null)}).catch(e=>{this.initError.next({message:e}),this.switchToVideoInput(null)})}ngOnDestroy(){this.stopMediaTracks(),this.unsubscribeFromSubscriptions()}takeSnapshot(){const t=this.nativeVideoElement,i={width:this.width,height:this.height};t.videoWidth&&(i.width=t.videoWidth,i.height=t.videoHeight);const n=this.canvas.nativeElement;n.width=i.width,n.height=i.height;const o=n.getContext("2d");o.drawImage(t,0,0);const s=this.imageType?this.imageType:e.DEFAULT_IMAGE_TYPE,a=n.toDataURL(s,this.imageQuality?this.imageQuality:e.DEFAULT_IMAGE_QUALITY);let l=null;this.captureImageData&&(l=o.getImageData(0,0,n.width,n.height)),this.imageCapture.next(new c(a,s,l))}rotateVideoInput(e){this.availableVideoInputs&&this.availableVideoInputs.length>1&&this.switchToVideoInput(this.availableVideoInputs[(this.activeVideoInputIndex+(e?1:this.availableVideoInputs.length-1))%this.availableVideoInputs.length].deviceId)}switchToVideoInput(e){this.videoInitialized=!1,this.stopMediaTracks(),this.initWebcam(e,this.videoOptions)}videoResize(){}get videoWidth(){const e=this.getVideoAspectRatio();return Math.min(this.width,this.height*e)}get videoHeight(){const e=this.getVideoAspectRatio();return Math.min(this.height,this.width/e)}get videoStyleClasses(){let e="";return this.isMirrorImage()&&(e+="mirrored "),e.trim()}get nativeVideoElement(){return this.video.nativeElement}getVideoAspectRatio(){const e=this.nativeVideoElement;return e.videoWidth&&e.videoWidth>0&&e.videoHeight&&e.videoHeight>0?e.videoWidth/e.videoHeight:this.width/this.height}initWebcam(t,i){const n=this.nativeVideoElement;if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){const o=e.getMediaConstraintsForDevice(t,i);navigator.mediaDevices.getUserMedia({video:o}).then(t=>{this.mediaStream=t,n.srcObject=t,n.play(),this.activeVideoSettings=t.getVideoTracks()[0].getSettings();const i=e.getDeviceIdFromMediaStreamTrack(t.getVideoTracks()[0]);this.cameraSwitched.next(i),this.detectAvailableDevices().then(()=>{this.activeVideoInputIndex=i?this.availableVideoInputs.findIndex(e=>e.deviceId===i):-1,this.videoInitialized=!0}).catch(()=>{this.activeVideoInputIndex=-1,this.videoInitialized=!0})}).catch(e=>{this.initError.next({message:e.message,mediaStreamError:e})})}else this.initError.next({message:"Cannot read UserMedia from MediaDevices."})}getActiveVideoTrack(){return this.mediaStream?this.mediaStream.getVideoTracks()[0]:null}isMirrorImage(){if(!this.getActiveVideoTrack())return!1;{let e="auto";switch(this.mirrorImage&&("string"==typeof this.mirrorImage?e=String(this.mirrorImage).toLowerCase():this.mirrorImage.x&&(e=this.mirrorImage.x.toLowerCase())),e){case"always":return!0;case"never":return!1}}return e.isUserFacing(this.getActiveVideoTrack())}stopMediaTracks(){this.mediaStream&&this.mediaStream.getTracks&&this.mediaStream.getTracks().forEach(e=>e.stop())}unsubscribeFromSubscriptions(){this.triggerSubscription&&this.triggerSubscription.unsubscribe(),this.switchCameraSubscription&&this.switchCameraSubscription.unsubscribe()}detectAvailableDevices(){return new Promise((e,t)=>{r.getAvailableVideoInputs().then(t=>{this.availableVideoInputs=t,e(t)}).catch(e=>{this.availableVideoInputs=[],t(e)})})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Eb({type:e,selectors:[["webcam"]],viewQuery:function(e,t){if(1&e&&(n.tc(s,3),n.tc(a,3)),2&e){let e;n.ic(e=n.Yb())&&(t.video=e.first),n.ic(e=n.Yb())&&(t.canvas=e.first)}},inputs:{width:"width",height:"height",videoOptions:"videoOptions",allowCameraSwitch:"allowCameraSwitch",captureImageData:"captureImageData",imageType:"imageType",imageQuality:"imageQuality",trigger:"trigger",switchCamera:"switchCamera",mirrorImage:"mirrorImage"},outputs:{imageCapture:"imageCapture",initError:"initError",imageClick:"imageClick",cameraSwitched:"cameraSwitched"},decls:6,vars:7,consts:[[1,"webcam-wrapper",3,"click"],["autoplay","","muted","","playsinline","",3,"width","height","resize"],["video",""],["class","camera-switch",3,"click",4,"ngIf"],[3,"width","height"],["canvas",""],[1,"camera-switch",3,"click"]],template:function(e,t){1&e&&(n.Pb(0,"div",0),n.Xb("click",function(){return t.imageClick.next()}),n.Pb(1,"video",1,2),n.Xb("resize",function(){return t.videoResize()}),n.Ob(),n.oc(3,l,1,0,"div",3),n.Lb(4,"canvas",4,5),n.Ob()),2&e&&(n.zb(1),n.Bb(t.videoStyleClasses),n.ec("width",t.videoWidth)("height",t.videoHeight),n.zb(2),n.ec("ngIf",t.allowCameraSwitch&&t.availableVideoInputs.length>1&&t.videoInitialized),n.zb(1),n.ec("width",t.width)("height",t.height))},directives:[o.k],styles:['.webcam-wrapper[_ngcontent-%COMP%]{display:inline-block;line-height:0;position:relative}.webcam-wrapper[_ngcontent-%COMP%]   video.mirrored[_ngcontent-%COMP%]{transform:scaleX(-1)}.webcam-wrapper[_ngcontent-%COMP%]   canvas[_ngcontent-%COMP%]{display:none}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]{background-color:rgba(0,0,0,.1);background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAE9UlEQVR42u2aT2hdRRTGf+cRQqghSqihdBFDkRISK2KDfzDWxHaRQHEhaINKqa1gKQhd6EZLN+IidCH+Q0oWIkVRC21BQxXRitVaSbKoJSGtYGoK2tQ/tU1jY5v0c5F54Xl7b/KSO/PyEt+3e5f75p7zzZwzZ74zUEIJJfyfYaEGllQGVAGZlENdBy6Z2cSiYFTSKkkfS/pH/nBF0kFJdUW9AiRVASeAukD8DgNrzOySrwEzng18KaDzALXuG8W3AiStAvqBisBRNg40mtlPxbYCOgvgPO4bncWW+JpVeDQXRQhIygDfA00F5r0XuNfMrgclQFI98DDQCNQA5ZFXqoCWBVp8XwHRHeEqcN7loy/NbHBesyqpQ1KfFj/6nC+ZvFaApFrgPaCZpYVvgCfNbDiRAElNwGFg+RIt/X8H2s2s9wYCJDUAR4HqJX7++RN40MwGpgmQVAH0AQ2BPz4AHHPl8nBOAqtyFWQjsA6oL4Ada81sPDv7uwImod8kvSJp9RyS8O2SXnb/DYVd2Y9VSroQ4ANXJO2WVJmixqh0kzMWwL4LkiqRtDnA4D1zmfE8j9g9AezcnAHaPcfXdbfdnPZ2Yps6+DwAvO/Z1naTdApY7Xng48BDZnY1MpMVQBuw3iXc5Tnb0wBwBPjUzP6eoezuArZ6svM0geJLkvZEYnl3nkntoqROSbckSW2Suj3ZOIangc7GPJuUtNGdFIfmMeavktoSSKiW9LMPw30Q8JqkekmjCbOZRhuclLQjgYSNxUBAj6RyZ9ATgUJpUtJTCSR8vpAEXHAyWK5BXYFIGHOlepSAloUk4NEYgyoknQhEwhFJ0e8h6VSaQeerCb5uZgdi9utxYBNwOUD93hIVXswM4INCi6K9wAszFC2DwLOBDjHbYp59karIUnRdzYy/3ClqVklaUhfwTICj7K25OqA7a4wWagVsm4Me/xzwg2cCqqONFzO7DPxSCAJi436GUBgHHguQD2oTlJ55oSzP9ybccsttSJw1szdjFOSnI/8dTCGZHwcORp4Nx7y3B1iZ8/sm4MW8/Euxg5wIsS/HaAp3zeP4/G7obRDXI4jiTIA22H7Xdc7X+S3A5lC7QBQ357aq3VAjCeSkwUfAJrfvz+R8A9ADLAtZB+TinpjC5JMA+//jwPZZnF8G7J+L8z4IWB/zbG+gIujVWfLBW/NStVMmqaG4POJRsIjix7h8IGnLQuoBbQki5sVAJHyYm7YkNaRRtXwQ8G1cHpX0iKRrgUjYno17Sf0LrQhJUkdCeHWkVITGJI0k1QeS3ikGSUzOyJUJJNznYneuOCnpTldcxa2kP3xJYqOeSDjqZG8ShJLnE8TTuMS6Iyu1BW7djZqkfo9N0QOuYJmYQddfB7RG+gLTNzqAY9FrL+5/nwEbvDdJJe3zzOrhNP3AWRqmk55t3ZcBuj3b2gb0Sbrbo/NNzk7fFzu7s/E5EiC+rrmeQU0Kx2skvRFoOx2ZzlmSdgbsw49JetvtBpk8nM64d/cGbNtJ0s7cGyJlwHeEv+t3nqnLSgPAUOSGyG3AHUxdzqoJbEcvcL+ZTeTeEapzJKxgaeOcc/7Mf06D7kFrguS0VDAMtGadv+E47DT9tcChJej8ISfpD+abgTe45uOkFi8mnQ+JBVQ+d4VXuOptjavcyot8pq86mfwk8LWZnaOEEkoooYQSSojDv8AhQNeGfe0jAAAAAElFTkSuQmCC");background-position:50%;background-repeat:no-repeat;background-size:80%;border-radius:5px;cursor:pointer;height:48px;position:absolute;right:13px;top:10px;transition:background-color .2s ease;width:48px}.webcam-wrapper[_ngcontent-%COMP%]   .camera-switch[_ngcontent-%COMP%]:hover{background-color:rgba(0,0,0,.18)}']}),e.DEFAULT_VIDEO_OPTIONS={facingMode:"environment"},e.DEFAULT_IMAGE_TYPE="image/jpeg",e.DEFAULT_IMAGE_QUALITY=.92,e})(),m=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.Ib({type:e}),e.\u0275inj=n.Hb({imports:[[o.b]]}),e})()},R7F3:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("fXoL");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Fb({type:e,selectors:[["","ionicSelectableItemEndTemplate",""]]}),e})()},TnqW:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("fXoL");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Fb({type:e,selectors:[["","ionicSelectableAddItemTemplate",""]]}),e})()},UY7p:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("fXoL");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Fb({type:e,selectors:[["","ionicSelectableIconTemplate",""]]}),e})()},VqCF:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("fXoL");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Fb({type:e,selectors:[["","ionicSelectableGroupEndTemplate",""]]}),e})()},Ys55:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("fXoL");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Fb({type:e,selectors:[["","ionicSelectableFooterTemplate",""]]}),e})()},gpqs:function(e,t,i){"use strict";i.d(t,"a",function(){return A});var n=i("mrSG"),o=i("fXoL"),s=i("XNiG"),a=i("QKVY"),l=i("vDqi"),c=i.n(l),r=i("U8hz"),h=i("wd/R"),m=i("tyNb"),d=i("TEn/"),b=i("7okS"),u=i("ofXK"),p=i("3Pt+"),g=i("JmBq");function f(e,t){1&e&&(o.Pb(0,"ion-title"),o.pc(1," Add new patient "),o.Ob())}function I(e,t){if(1&e&&(o.Pb(0,"ion-title"),o.pc(1),o.Ob()),2&e){const e=o.Zb();o.zb(1),o.rc(" ",e.data.name," ")}}function C(e,t){if(1&e&&(o.Pb(0,"ion-buttons",33),o.Pb(1,"ion-button",34),o.Lb(2,"ion-icon",35),o.pc(3," ADD NEW TEST "),o.Ob(),o.Ob()),2&e){const e=o.Zb();o.zb(1),o.ec("routerLink","/patients/"+e.data.idPatient+"/tests")}}function _(e,t){1&e&&o.Lb(0,"img",36)}function v(e,t){if(1&e&&o.Lb(0,"img",37),2&e){const e=o.Zb();o.ec("src",e.api+e.data.documentPhoto.photoPath,o.mc)}}function O(e,t){if(1&e&&o.Lb(0,"img",38),2&e){const e=o.Zb();o.ec("src",e.snapshot,o.mc)}}function S(e,t){if(1&e){const e=o.Qb();o.Pb(0,"webcam",39),o.Xb("imageCapture",function(t){return o.lc(e),o.Zb().handleImage(t)})("cameraSwitched",function(t){return o.lc(e),o.Zb().cameraWasSwitched(t)})("initError",function(t){return o.lc(e),o.Zb().handleInitError(t)}),o.Ob()}if(2&e){const e=o.Zb();o.ec("height",300)("width",300)("trigger",e.triggerObservable)("allowCameraSwitch",e.allowCameraSwitch)("switchCamera",e.nextWebcamObservable)("videoOptions",e.videoOptions)}}function T(e,t){if(1&e){const e=o.Qb();o.Pb(0,"ion-button",40),o.Xb("click",function(){return o.lc(e),o.Zb().triggerSnapshot()}),o.Lb(1,"ion-icon",41),o.pc(2," ADD PATIENT PHOTO "),o.Ob()}}function P(e,t){if(1&e){const e=o.Qb();o.Pb(0,"ion-button",42),o.Xb("click",function(){return o.lc(e),o.Zb().retakePhoto()}),o.Lb(1,"ion-icon",43),o.pc(2," RETAKE PATIENT PHOTO "),o.Ob()}}function w(e,t){if(1&e){const e=o.Qb();o.Pb(0,"ion-fab",44),o.Pb(1,"ion-fab-button",45),o.Xb("click",function(){return o.lc(e),o.Zb().save()}),o.Lb(2,"ion-icon",46),o.Ob(),o.Ob()}}function x(e,t){if(1&e){const e=o.Qb();o.Pb(0,"ion-fab",44),o.Pb(1,"ion-fab-button",45),o.Xb("click",function(){return o.lc(e),o.Zb().edit()}),o.Lb(2,"ion-icon",47),o.Ob(),o.Ob()}}let A=(()=>{class e{constructor(e,t,i,n,a){this.route=e,this.loadingCtrl=t,this.alertCtrl=i,this.router=n,this.storage=a,this.pictureTaken=new o.o,this.showWebcam=!0,this.allowCameraSwitch=!0,this.multipleWebcamsAvailable=!1,this.videoOptions={},this.errors=[],this.trigger=new s.a,this.nextWebcam=new s.a,this.isNewPatient=!0,this.snapshot="",this.data={name:"",enName:"",gender:null,address:"...",dob:null,phone:null,weight:0,height:0,relationship:0,nationalityId:0,documentId:null,email:"",smoker:0,fasting:0,munaId:null,certificateNo:null,legal:1,createdBy:"1",documentPhoto:{photoPath:""}},this.files=null,this.documentImage="",this.muna=!1,this.documentName="",this.api=r.a,this.nationalities=[]}triggerSnapshot(){this.trigger.next()}toggleWebcam(){this.showWebcam=!this.showWebcam}handleInitError(e){this.errors.push(e)}showNextWebcam(e){this.nextWebcam.next(e)}handleImage(e){console.info("received webcam image",e),this.pictureTaken.emit(e),this.snapshot=e.imageAsDataUrl,this.toggleWebcam()}cameraWasSwitched(e){console.log("active device: "+e),this.deviceId=e}get triggerObservable(){return this.trigger.asObservable()}get nextWebcamObservable(){return this.nextWebcam.asObservable()}ngOnInit(){console.log(this.id),this.storage.get("user").then(e=>{this.userinfo=e.data,console.log(this.userinfo),this.data.createdBy=e.data.idUser}),c.a.get(r.a+"nationalities").then(e=>{this.nationalities=e.data}).catch(e=>{console.log(e)}),a.c.getAvailableVideoInputs().then(e=>{this.multipleWebcamsAvailable=e&&e.length>1}),this.route.paramMap.subscribe(e=>Object(n.a)(this,void 0,void 0,function*(){if("new"!=e.params.id){let t=yield this.loadingCtrl.create({message:"Please wait..."});yield t.present(),this.isNewPatient=!1,c.a.get(r.a+"patient/"+e.params.id).then(e=>{this.data=e.data,this.snapshot=r.a+e.data.image.photoPath,this.toggleWebcam()}).finally(()=>Object(n.a)(this,void 0,void 0,function*(){yield t.dismiss()}))}}))}retakePhoto(){this.snapshot="",this.toggleWebcam()}onFileChange(e){this.files=e.target.files,console.log(e.target.files[0]),this.documentName=e.target.files[0].name}fixDate(){this.data.dob=h(this.data.dob).format("YYYY-MM-DD")}save(){return Object(n.a)(this,void 0,void 0,function*(){let e=yield this.loadingCtrl.create({message:"Please wait..."});if(yield e.present(),this.muna){let t={data:{type:"identity",attributes:{passport:this.data.documentId}}};c.a.get("https://api.munahealth.com/identities?filter[passport]="+this.data.documentId).then(e=>Object(n.a)(this,void 0,void 0,function*(){let i=e.data.data;i.length>0?(this.data.munaId=i[0].attributes.address,this.saveToDb()):c.a.post(r.b+"identities",JSON.stringify(t)).then(e=>{this.data.munaId=e.data.data.id,this.saveToDb()}).catch(e=>{console.log(e)})})).finally(()=>Object(n.a)(this,void 0,void 0,function*(){yield e.dismiss()}))}else this.saveToDb(),yield e.dismiss()})}ionViewWillLeave(){""==this.snapshot&&(this.showWebcam=!1)}edit(){return Object(n.a)(this,void 0,void 0,function*(){this.data.createdBy="1";let e=yield this.loadingCtrl.create({message:"Please wait..."});yield e.present(),c.a.put(r.a+"patient/"+this.data.idPatient,this.data).then(e=>{console.log(e.data)}).finally(()=>Object(n.a)(this,void 0,void 0,function*(){yield e.dismiss()}))})}saveToDb(){return Object(n.a)(this,void 0,void 0,function*(){var e=new FormData;console.log(this.data),this.data.nationalityId=this.data.nationalityId.idNationality,5==this.userinfo.roleId&&(this.data.legal=0),e.append("patient",JSON.stringify(this.data)),e.append("image",this.snapshot),null!=this.files&&e.append("document",this.files[0]),c()({method:"post",url:r.a+"addPatient",data:e,headers:{"Content-Type":"multipart/form-data"}}).then(e=>Object(n.a)(this,void 0,void 0,function*(){console.log(e);let t=e.data,i=yield this.alertCtrl.create({header:"Patient added successfully.",message:"Do you want to submit a new test for this patient?",buttons:[{text:"Yes",handler:()=>{this.router.navigateByUrl("/patients/"+t.id+"/tests")}},{text:"No",role:"cancel",handler:()=>{this.router.navigateByUrl("/patients")}}]});yield i.present()})).catch(e=>Object(n.a)(this,void 0,void 0,function*(){let e=yield this.alertCtrl.create({header:"Error",subHeader:"Please check all required fields."});yield e.present()})).finally(()=>Object(n.a)(this,void 0,void 0,function*(){}))})}generateEmail(){this.data.email=this.data.documentId+".nationallab@gmail.com"}}return e.\u0275fac=function(t){return new(t||e)(o.Kb(m.a),o.Kb(d.bb),o.Kb(d.a),o.Kb(m.g),o.Kb(b.a))},e.\u0275cmp=o.Eb({type:e,selectors:[["app-patient"]],outputs:{pictureTaken:"pictureTaken"},decls:130,vars:28,consts:[[4,"ngIf"],["slot","end",4,"ngIf"],["slot","start"],[1,"ion-padding"],["fixed",""],["size","6"],["mode","ios"],["position","floating"],["color","danger"],["required","",3,"ngModel","ngModelChange"],["type","date","placeholder","Birthdate",3,"ngModel","ionChange","ngModelChange"],["itemValueField","idNationality","itemTextField","nationalName",3,"ngModel","items","canSearch","ngModelChange"],["mode","md","placeholder","Select One",3,"ngModel","ngModelChange"],["value","1"],["value","0"],["required","",3,"ngModel","ionChange","ngModelChange"],["slot","end","fill","clear",3,"click"],["slot","start","name","scan"],["type","file","id","fileUpload",2,"display","none",3,"change"],["fileSelect",""],["src","assets/icon/passport.jpeg","alt","",4,"ngIf"],["alt","",3,"src",4,"ngIf"],["type","number","required","",3,"ngModel","ngModelChange"],["type","text","required","",3,"ngModel","ngModelChange"],["type","number",3,"ngModel","ngModelChange"],["slot","end",3,"ngModel","ngModelChange"],["mode","md","value","0","placeholder","Select One",3,"ngModel","ngModelChange"],["src","assets/icon/muna.svg","alt",""],["style","width: 300px; border-radius: 20px;","alt","",3,"src",4,"ngIf"],[3,"height","width","trigger","allowCameraSwitch","switchCamera","videoOptions","imageCapture","cameraSwitched","initError",4,"ngIf"],["expand","block",3,"click",4,"ngIf"],["color","warning","expand","block",3,"click",4,"ngIf"],["mode","ios","vertical","top","horizontal","end","slot","fixed",4,"ngIf"],["slot","end"],["fill","solid","color","success",3,"routerLink"],["slot","start","name","add"],["src","assets/icon/passport.jpeg","alt",""],["alt","",3,"src"],["alt","",2,"width","300px","border-radius","20px",3,"src"],[3,"height","width","trigger","allowCameraSwitch","switchCamera","videoOptions","imageCapture","cameraSwitched","initError"],["expand","block",3,"click"],["slot","start","name","camera-outline"],["color","warning","expand","block",3,"click"],["slot","start","name","camera-reverse-outline"],["mode","ios","vertical","top","horizontal","end","slot","fixed"],["color","success",3,"click"],["name","checkmark"],["name","create"]],template:function(e,t){if(1&e){const e=o.Qb();o.Pb(0,"ion-header"),o.Pb(1,"ion-toolbar"),o.oc(2,f,2,0,"ion-title",0),o.oc(3,I,2,1,"ion-title",0),o.oc(4,C,4,1,"ion-buttons",1),o.Pb(5,"ion-buttons",2),o.Lb(6,"ion-back-button"),o.Ob(),o.Ob(),o.Ob(),o.Pb(7,"ion-content",3),o.Pb(8,"ion-grid",4),o.Pb(9,"ion-row"),o.Pb(10,"ion-col",5),o.Pb(11,"ion-card",6),o.Pb(12,"ion-card-content"),o.Pb(13,"ion-list-header"),o.Pb(14,"ion-label"),o.pc(15,"PERSONAL INFO"),o.Ob(),o.Ob(),o.Pb(16,"ion-list"),o.Pb(17,"ion-item"),o.Pb(18,"ion-label",7),o.pc(19,"Full name "),o.Pb(20,"ion-text",8),o.pc(21,"*"),o.Ob(),o.Ob(),o.Pb(22,"ion-input",9),o.Xb("ngModelChange",function(e){return t.data.name=e}),o.Ob(),o.Ob(),o.Pb(23,"ion-item"),o.Pb(24,"ion-label",7),o.pc(25,"Second language name "),o.Pb(26,"ion-text",8),o.pc(27,"*"),o.Ob(),o.Ob(),o.Pb(28,"ion-input",9),o.Xb("ngModelChange",function(e){return t.data.enName=e}),o.Ob(),o.Ob(),o.Pb(29,"ion-item"),o.Pb(30,"ion-label",7),o.pc(31,"Birthdate "),o.Pb(32,"ion-text",8),o.pc(33,"*"),o.Ob(),o.Ob(),o.Pb(34,"ion-input",10),o.Xb("ionChange",function(){return t.fixDate()})("ngModelChange",function(e){return t.data.dob=e}),o.Ob(),o.Ob(),o.Lb(35,"br"),o.Pb(36,"ion-item"),o.Pb(37,"ion-label"),o.pc(38,"Nationality "),o.Pb(39,"ion-text",8),o.pc(40,"*"),o.Ob(),o.Ob(),o.Pb(41,"ionic-selectable",11),o.Xb("ngModelChange",function(e){return t.data.nationalityId=e}),o.Ob(),o.Ob(),o.Lb(42,"br"),o.Pb(43,"ion-item"),o.Pb(44,"ion-label"),o.pc(45,"Gender "),o.Pb(46,"ion-text",8),o.pc(47,"*"),o.Ob(),o.Ob(),o.Pb(48,"ion-select",12),o.Xb("ngModelChange",function(e){return t.data.gender=e}),o.Pb(49,"ion-select-option",13),o.pc(50,"Female"),o.Ob(),o.Pb(51,"ion-select-option",14),o.pc(52,"Male"),o.Ob(),o.Ob(),o.Ob(),o.Lb(53,"br"),o.Pb(54,"ion-item"),o.Pb(55,"ion-label"),o.pc(56,"Document ID "),o.Pb(57,"ion-text",8),o.pc(58,"*"),o.Ob(),o.Ob(),o.Pb(59,"ion-input",15),o.Xb("ionChange",function(){return t.generateEmail()})("ngModelChange",function(e){return t.data.documentId=e}),o.Ob(),o.Pb(60,"ion-button",16),o.Xb("click",function(){return o.lc(e),o.jc(65).click()}),o.Lb(61,"ion-icon",17),o.pc(62," SCAN "),o.Ob(),o.Ob(),o.pc(63),o.Pb(64,"input",18,19),o.Xb("change",function(e){return t.onFileChange(e)}),o.Ob(),o.oc(66,_,1,0,"img",20),o.oc(67,v,1,1,"img",21),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Pb(68,"ion-col",5),o.Pb(69,"ion-card",6),o.Pb(70,"ion-card-content"),o.Pb(71,"ion-list-header"),o.Pb(72,"ion-label"),o.pc(73,"ADDITIONAL INFO"),o.Ob(),o.Ob(),o.Pb(74,"ion-item"),o.Pb(75,"ion-label",7),o.pc(76,"Phone "),o.Pb(77,"ion-text",8),o.pc(78,"*"),o.Ob(),o.Ob(),o.Pb(79,"ion-input",22),o.Xb("ngModelChange",function(e){return t.data.phone=e}),o.Ob(),o.Ob(),o.Pb(80,"ion-item"),o.Pb(81,"ion-label",7),o.pc(82,"Address "),o.Pb(83,"ion-text",8),o.pc(84,"*"),o.Ob(),o.Ob(),o.Pb(85,"ion-input",23),o.Xb("ngModelChange",function(e){return t.data.address=e}),o.Ob(),o.Ob(),o.Pb(86,"ion-item"),o.Pb(87,"ion-label",7),o.pc(88,"Email address "),o.Pb(89,"ion-text",8),o.pc(90,"*"),o.Ob(),o.Ob(),o.Pb(91,"ion-input",9),o.Xb("ngModelChange",function(e){return t.data.email=e}),o.Ob(),o.Ob(),o.Pb(92,"ion-row"),o.Pb(93,"ion-col",5),o.Pb(94,"ion-item"),o.Pb(95,"ion-label",7),o.pc(96,"Height"),o.Ob(),o.Pb(97,"ion-input",24),o.Xb("ngModelChange",function(e){return t.data.height=e}),o.Ob(),o.Ob(),o.Ob(),o.Pb(98,"ion-col",5),o.Pb(99,"ion-item"),o.Pb(100,"ion-label",7),o.pc(101,"Weight"),o.Ob(),o.Pb(102,"ion-input",24),o.Xb("ngModelChange",function(e){return t.data.weight=e}),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Lb(103,"br"),o.Pb(104,"ion-item"),o.Pb(105,"ion-label"),o.pc(106,"Is patient a smoker"),o.Ob(),o.Pb(107,"ion-toggle",25),o.Xb("ngModelChange",function(e){return t.data.smoker=e}),o.Ob(),o.Ob(),o.Lb(108,"br"),o.Pb(109,"ion-item"),o.Pb(110,"ion-label"),o.pc(111,"Relationship"),o.Ob(),o.Pb(112,"ion-select",26),o.Xb("ngModelChange",function(e){return t.data.relationship=e}),o.Pb(113,"ion-select-option",14),o.pc(114,"Single"),o.Ob(),o.Pb(115,"ion-select-option",13),o.pc(116,"Married"),o.Ob(),o.Ob(),o.Ob(),o.Lb(117,"br"),o.Pb(118,"ion-item"),o.Lb(119,"img",27),o.Pb(120,"ion-label"),o.pc(121," \xa0 \xa0 Integrate with MUNA"),o.Ob(),o.Pb(122,"ion-toggle",25),o.Xb("ngModelChange",function(e){return t.muna=e}),o.Ob(),o.Ob(),o.Lb(123,"br"),o.oc(124,O,1,1,"img",28),o.oc(125,S,1,6,"webcam",29),o.oc(126,T,3,0,"ion-button",30),o.oc(127,P,3,0,"ion-button",31),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.Ob(),o.oc(128,w,3,0,"ion-fab",32),o.oc(129,x,3,0,"ion-fab",32),o.Ob()}2&e&&(o.zb(2),o.ec("ngIf",t.isNewPatient),o.zb(1),o.ec("ngIf",!t.isNewPatient&&""!=t.data.name),o.zb(1),o.ec("ngIf",!t.isNewPatient&&""!=t.data.name),o.zb(18),o.ec("ngModel",t.data.name),o.zb(6),o.ec("ngModel",t.data.enName),o.zb(6),o.ec("ngModel",t.data.dob),o.zb(7),o.ec("ngModel",t.data.nationalityId)("items",t.nationalities)("canSearch",!0),o.zb(7),o.ec("ngModel",t.data.gender),o.zb(11),o.ec("ngModel",t.data.documentId),o.zb(4),o.rc(" ",t.documentName," "),o.zb(3),o.ec("ngIf",t.isNewPatient),o.zb(1),o.ec("ngIf",!t.isNewPatient),o.zb(12),o.ec("ngModel",t.data.phone),o.zb(6),o.ec("ngModel",t.data.address),o.zb(6),o.ec("ngModel",t.data.email),o.zb(6),o.ec("ngModel",t.data.height),o.zb(5),o.ec("ngModel",t.data.weight),o.zb(5),o.ec("ngModel",t.data.smoker),o.zb(5),o.ec("ngModel",t.data.relationship),o.zb(10),o.ec("ngModel",t.muna),o.zb(2),o.ec("ngIf",""!=t.snapshot),o.zb(1),o.ec("ngIf",t.showWebcam),o.zb(1),o.ec("ngIf",""==t.snapshot),o.zb(1),o.ec("ngIf",""!=t.snapshot),o.zb(1),o.ec("ngIf",t.isNewPatient),o.zb(1),o.ec("ngIf",!t.isNewPatient))},directives:[d.u,d.X,u.k,d.h,d.e,d.f,d.o,d.t,d.K,d.n,d.i,d.j,d.E,d.C,d.D,d.z,d.T,d.y,d.ib,p.f,p.d,p.e,g.a,d.O,d.hb,d.P,d.g,d.v,d.eb,d.W,d.b,d.V,d.gb,m.h,a.a,d.q,d.r],styles:["ion-select[_ngcontent-%COMP%]{width:100%;justify-content:center}"]}),e})()},"j+ev":function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("fXoL");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Fb({type:e,selectors:[["","ionicSelectableItemTemplate",""]]}),e})()},kNd2:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("fXoL");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Fb({type:e,selectors:[["","ionicSelectablePlaceholderTemplate",""]]}),e})()},qPfB:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("fXoL");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Fb({type:e,selectors:[["","ionicSelectableValueTemplate",""]]}),e})()},t6yK:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i("fXoL");let o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=n.Fb({type:e,selectors:[["","ionicSelectableMessageTemplate",""]]}),e})()}}]);